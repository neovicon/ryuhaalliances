:root {
  --bg: #0b0b0c;
  --surface: #141416;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --primary: #b10f2e;
  --accent: #4b5563;
  --ok: #10b981;
  --warn: #f59e0b;
}
@font-face { font-family: 'Castellar'; src: url('/assets/castellar/castellar-regular.ttf'); }
* { box-sizing: border-box }
html, body, #root { height: 100% }
body { margin: 0; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif }
.hdr { font-family: 'Castellar', serif }
.btn { background: var(--primary); color: white; padding: 0.6rem 1rem; border-radius: 8px; border: 0; cursor: pointer; transition: transform .15s ease, box-shadow .2s ease }
.btn:hover { transform: translateY(-1px); box-shadow: 0 8px 20px rgba(177,15,46,0.25) }
.card { background: var(--surface); border: 1px solid #1f2937; border-radius: 12px; padding: 1rem; transition: transform .15s ease, border-color .2s ease }
.card:hover { transform: translateY(-2px); border-color: var(--accent) }
.link { color: var(--text); text-decoration: none }
.link:hover { color: var(--primary) }
.input { background: #0f1012; color: var(--text); border: 1px solid #1f2937; border-radius: 8px; padding: .6rem .8rem }
.input:focus { outline: 1px solid var(--primary) }
.nav { display: flex; align-items: center; justify-content: space-between; padding:0; position: sticky; top: 0; backdrop-filter: blur(6px); background: rgba(11,11,12,.6); border-bottom: 1px solid #1f2937; z-index: 100 }
.container { max-width: 1100px; margin: 0 auto; padding: 0}
.grid { display: grid; gap: 1rem }

/* Enhanced Navbar */
.nav-inner { display: flex; align-items: center; justify-content: space-between; width: 100%; margin: 0 auto; padding: 1rem }
.nav-brand { display: flex; align-items: center; gap: .6rem }
.nav-logo { width: 50px; height: 50px; border-radius: 10px; background: url('/assets/logo.jpg') no-repeat center center; background-size: cover; border: 1px solid #1f2937; box-shadow: 0 2px 10px rgba(177,15,46,.2) }
.nav-title { letter-spacing: 2px; margin: 0; font-family: 'Orbitron'; }
.nav-links { display: flex; align-items: center; gap: 1rem }
.nav-link { color: var(--text); opacity: .9; text-decoration: none; padding: .25rem .4rem; border-radius: 6px; transition: color .2s ease, opacity .2s ease, background .2s ease }
.nav-link:hover { color: var(--primary); opacity: 1 }
.nav-link.active { background: rgba(177,15,46,.12); color: var(--text); border: 1px solid rgba(177,15,46,.35) }
.nav-cta { text-decoration: none }
.nav-toggle { display: none; background: transparent; border: 1px solid #2a2a2d; color: var(--text); border-radius: 8px; padding: .35rem .5rem; cursor: pointer }

@media (max-width: 720px) {
  .nav-links { display: none }
  .nav-links.open { display: flex; position: absolute; top: 56px; right: 12px; background: rgba(20,20,22,.96); border: 1px solid #27272a; border-radius: 12px; padding: .6rem; flex-direction: column; gap: .5rem; box-shadow: 0 12px 30px rgba(0,0,0,.35) }
  .nav-toggle { display: inline-flex; align-items: center; gap: .35rem }
}

/* Desktop vs Mobile utility classes used by Nav component */
.desktop-only { display: flex; align-items: center; gap: 1rem }
.mobile-only { display: none }

/* More dropdown (desktop) */
.more-dropdown { position: relative }
.more-btn { background: transparent; border: 0; color: var(--text); display: inline-flex; align-items: center; gap: .25rem; padding: .25rem .45rem; cursor: pointer }
.more-panel { position: absolute; right: 0; top: calc(100% + 8px); background: var(--surface); border: 1px solid #27272a; border-radius: 8px; min-width: 180px; box-shadow: 0 12px 40px rgba(2,6,23,.6); z-index: 50; padding: .5rem; display: flex; flex-direction: column; gap: .25rem }
.more-item { padding: .5rem .6rem; color: var(--text); text-decoration: none; border-radius: 6px }
.more-item:hover { background: rgba(177,15,46,.06); color: var(--primary) }

/* Mobile menu overlay */
.mobile-menu { display: none }
.mobile-menu.open { display: block }
.mobile-menu { position: fixed; inset: 0; background: rgba(2,6,23,0.7); z-index: 9998; }
.mobile-menu-inner { width: 100%; max-width: 420px; background: var(--surface); height: 100%; right: 0; position: absolute; top: 0; box-shadow: -12px 0 40px rgba(0,0,0,.6); padding: 1rem; overflow: auto }
.mobile-links { display: flex; flex-direction: column; gap: .5rem }
.mobile-link { display: flex; align-items: center; gap: .75rem; padding: .6rem; color: var(--text); text-decoration: none; border-radius: 8px }
.mobile-link:hover, .mobile-link.active { background: rgba(177,15,46,.06); color: var(--primary) }

/* Ensure button.mobile-link doesn't render with native white background */
.mobile-link { background: transparent; border: 0; }
.mobile-link, .mobile-link:focus, .mobile-link:active { -webkit-appearance: none; appearance: none }
button.mobile-link { background: transparent; border: 0; color: var(--text); cursor: pointer; text-align: left }

/* groupings inside desktop nav */
.nav-main { display: flex; gap: .5rem; align-items: center }
.nav-secondary { display: flex; align-items: center }
.nav-cta-group { display: flex; gap: .5rem; align-items: center }

/* Responsive switching: show desktop-only above 1024px, mobile-only below */
@media (max-width: 1023px) {
  .desktop-only { display: none }
  .mobile-only { display: inline-flex }
  .nav-toggle { display: inline-flex }
}

@media (min-width: 1024px) {
  .mobile-only { display: none }
  .desktop-only { display: flex }
}

/* For very small widths (phones), show the mobile menu as an absolute dropdown near the top-right
   instead of full-screen. This reduces visual clutter on tiny devices. */
@media (max-width: 420px) {
  .mobile-menu {
    position: absolute !important;
    z-index: 33 !important;
    right: 12px !important;
    top: 12px !important;
    width: auto !important;
    height: auto !important;
    background: transparent !important;
    display: block !important;
    justify-content: flex-end;
  }

  .mobile-menu-inner {
    position: absolute !important;
    right: 12px !important;
    top: 12px !important;
    width: calc(100% - 24px) !important;
    max-width: 360px !important;
    height: auto !important;
    max-height: calc(100vh - 24px) !important;
    border-radius: 10px !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.5) !important;
    overflow: auto !important;
  }
}

/* Footer */
.footer { background: rgba(11,11,12,.85); border-top: 1px solid #1f2937; margin-top: 2rem }
.footer-inner { max-width: 1100px; margin: 0 auto; padding: 1.25rem 1rem; display: grid; gap: 1rem; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) }
.footer h4 { margin: 0 0 .5rem 0 }
.footer a { color: var(--text); text-decoration: none; opacity: .9 }
.footer a:hover { color: var(--primary); opacity: 1 }
.footer-bottom { border-top: 1px solid #1f2937; margin-top: .75rem; padding-top: .75rem; display: flex; justify-content: space-between; align-items: center; gap: 1rem; flex-wrap: wrap }

.footer-inner div:nth-child(1) { display: flex; flex-direction: column; align-items: start; justify-content: center;}
.footer-inner div:nth-child(2) { display: flex; flex-direction: column; align-items: center; justify-content: center;}
.footer-inner div:nth-child(3) { display: flex; flex-direction: column; align-items: end; justify-content: center;}

@media (max-width: 720px) {
  .footer-inner div:nth-child(1),
  .footer-inner div:nth-child(2),
  .footer-inner div:nth-child(3),
  .footer-inner div:nth-child(4) {
    align-items: center !important;
    justify-content: center;
    text-align: center;
  }
  .footer-inner div:nth-child(3) {
    margin-top: 2rem;
  }
}

/* Base sidebar and overlay */
.attendance-aside { display: block }
.attendance-sidebar-overlay {
  position: fixed; inset: 0; background: rgba(2,6,23,0.6);
  z-index: 2200; display: flex; align-items: flex-start;
  justify-content: flex-end; padding: 1rem;
}

.attendance-aside.mobile {
  width: 280px; background: var(--surface); border-radius: 8px;
  padding: 1rem; box-shadow: 0 10px 30px rgba(0,0,0,.5);
  transform: translateX(0);
}

/* Hide desktop sidebar and show mobile hamburger */
#attendance-open-sidebar {
  display: none;
}

@media (max-width: 820px) {
  .attendance-aside { display: none }
  .attendance-aside.mobile { display: block !important }
  #attendance-open-sidebar {
    display: inline-flex !important;
    position: relative; z-index: 60;
  }
}



@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Warning notice responsive styles */
.warning-notice-inner {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: flex-start;
}
.warning-notice-img {
  width: 100%;
  max-width: 420px;
  height: auto;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid rgba(239,68,68,0.2);
}
@media (min-width: 768px) {
  .warning-notice-inner {
    flex-direction: row;
    align-items: center;
    gap: 1.25rem;
  }
  .warning-notice-img {
    max-width: 360px;
  }
}

/* Responsive typography and buttons */
/* Slightly larger tablet, smaller phone sizes */
@media (max-width: 820px) {
  .hdr { font-size: 1.35rem; }
  .card { padding: .75rem; }
  .btn { padding: .45rem .85rem; font-size: 0.95rem; }
  .nav-title { font-size: 1rem }
  .container { padding-left: 0.5rem; padding-right: 0.5rem }
}

@media (max-width: 420px) {
  .hdr { font-size: 1.15rem; }
  .card { padding: .6rem; }
  .btn { padding: .4rem .6rem; font-size: 0.88rem; border-radius: 6px }
  .nav-title { font-size: 0.95rem }
  .attendance-aside.mobile { padding: 0.6rem }
  /* tighten line-heights for dense mobile lists */
  .card, .container { line-height: 1.25 }
  input[type="text"], textarea, .input { font-size: 0.95rem }
}

/* Attendance weekly mini-grid */
.att-week { display: flex; align-items: center }
.att-day { width: 14px; height: 14px; border-radius: 3px; border: 1px solid rgba(255,255,255,0.06); background: rgba(255,255,255,0.02) }
.att-day.att-present { background: #10b981; border-color: rgba(16,185,129,0.2) }
.att-day.att-absent { background: #ef4444; border-color: rgba(239,68,68,0.15) }
.att-day + .att-day { margin-left: 4px }

/* Legend styles for attendance */
.att-legend { display: flex; align-items: center }
.att-legend-item { display: flex; align-items: center; gap: 6px }
.att-legend-color { width: 12px; height: 12px; border-radius: 3px; border: 1px solid rgba(255,255,255,0.06) }
.att-legend-color.att-present { background: #10b981 }
.att-legend-color.att-absent { background: #ef4444 }

